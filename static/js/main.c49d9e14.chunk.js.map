{"version":3,"sources":["components/imageItem/ImageGalleryItem.js","components/imageList/ImageGallery.js","components/searchBar/SearchBar.js","components/spinner/Spinner.js","components/modal/Modal.js","components/button/Button.js","components/notification/Notification.js","services/imagesAPI.js","components/galleryContainer/GalleryContainer.js","App.js","index.js"],"names":["ImageGalleryItem","id","webformatURL","query","largeImageURL","onClick","className","src","alt","e","target","dataset","source","data-source","width","ImageGallery","images","map","image","SearchBar","onChange","onSubmit","type","autoComplete","autoFocus","placeholder","value","Spinner","color","height","Modal","onClose","children","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","Button","loadMoreClick","Notification","text","openNotif","changeStatus","timerID","setTimeout","clearTimeout","style","textAlign","APIkey","page","axios","get","then","response","data","hits","catch","error","Error","initialState","loading","largeImageUrl","err","fail","GalleryContainer","useState","state","setState","newHeight","document","documentElement","scrollHeight","scrollTo","top","behavior","length","fetchImages","prev","imagesAPI","files","prevState","message","finally","preventDefault","url","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c49d9e14.chunk.js","sourcesContent":["import React, {Component,useState}  from 'react';\r\nimport './ImageItem.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n// class ImageGalleryItem extends Component{\r\n\r\n//   handleClick=e=>{\r\n//     this.props.onClick(e.target.dataset.source);\r\n//   }\r\n\r\n//   render(){\r\n//     const {id,webformatURL,query,largeImageURL} = this.props;\r\n//   return (\r\n//   <li className=\"ImageGalleryItem\" key={id}>\r\n//     <img src={webformatURL} alt={query}\r\n//     className=\"ImageGalleryItem-image\"\r\n//     onClick={this.handleClick}\r\n//     data-source = {largeImageURL}\r\n//     width=\"300\" />\r\n//   </li> )\r\n//   }\r\n// };\r\n\r\nconst ImageGalleryItem = ({id,webformatURL,query,largeImageURL,onClick})=>{\r\n\r\n  const handleClick=e=>{\r\n    onClick(e.target.dataset.source);\r\n  }\r\n    return (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n    <img src={webformatURL} alt={query}\r\n    className=\"ImageGalleryItem-image\"\r\n    onClick={handleClick}\r\n    data-source = {largeImageURL}\r\n    width=\"300\" />\r\n  </li> )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string,\r\n  query:PropTypes.string,\r\n  onClick:PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;","import React  from 'react';\r\nimport ImageGalleryItem from '../imageItem/ImageGalleryItem';\r\nimport './ImageGallery.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default function ImageGallery({images, onClick,query}){\r\n  return (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map((image)=>(\r\n      <ImageGalleryItem key={image.id}\r\n      {...image}\r\n      onClick={onClick}/>))}\r\n  </ul>)\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  query:PropTypes.string\r\n };\r\n","import React, {Component} from 'react';\r\nimport './SearchBar.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst SearchBar=({onChange,query,onSubmit})=> {\r\n\r\n    return(\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={onChange}\r\n            value={query}\r\n          />\r\n        </form>\r\n      </header>\r\n    )\r\n\r\n}\r\n\r\nexport default SearchBar;\r\n\r\n\r\n  SearchBar.propTypes = {\r\n    onSubmit:PropTypes.func.isRequired,\r\n  };","import React  from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport './Spinner.css';\r\n\r\nexport default function Spinner(){\r\n  return (\r\n    <div className = \"Spinner\">\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  )\r\n}","import React, { Component,useEffect } from 'react';\r\nimport './Modal.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n// export default class Modal extends Component{\r\n\r\n\r\n//   componentDidMount() {\r\n//     window.addEventListener('keydown', this.handleKeyDown);\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener('keydown', this.handleKeyDown);\r\n//   }\r\n\r\n//   handleKeyDown = e => {\r\n//     if (e.code === 'Escape') {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n\r\n//   handleClick=e=>{\r\n//     e.target.className===\"Overlay\" && this.props.onClose();\r\n//   }\r\n\r\n//   render(){\r\n//     return (\r\n//       <div className=\"Overlay\" onClick={this.handleClick}>\r\n//         <div className=\"Modal\">\r\n//           {this.props.children}\r\n//         </div>\r\n//       </div>\r\n//     )\r\n//   };\r\n\r\n// }\r\n\r\n\r\nconst Modal=({onClose,children})=>{\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return function() {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n\r\n  },)\r\n\r\n  const handleClick=e=>{\r\n    e.target.className===\"Overlay\" && onClose();\r\n  }\r\n\r\n    return (\r\n      <div className=\"Overlay\" onClick={handleClick}>\r\n        <div className=\"Modal\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n};\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onClose:PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired\r\n};","import React from 'react';\r\nimport './Button.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({loadMoreClick}){\r\n  return (\r\n  <button type=\"button\" onClick={loadMoreClick} className=\"Button\">Load more</button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick:PropTypes.func\r\n};","import React,{useState, useEffect} from 'react';\r\n\r\n\r\nconst Notification = ({text,openNotif})=>{\r\n\r\n\r\n  const changeStatus=()=>{\r\n    return openNotif(false);\r\n  }\r\n\r\n  useEffect(()=>{\r\n    const timerID = setTimeout(changeStatus,3000);\r\n    return ()=>clearTimeout(timerID);\r\n  },[]);\r\n\r\n    return (\r\n      <div style={{textAlign:'center'}}>\r\n\r\n\r\n\r\n       <p>{text}</p>\r\n       <p>Please, try again or type another query</p>\r\n      </div>\r\n    )\r\n};\r\n\r\nexport default Notification;","import axios from 'axios';\r\n\r\nconst APIkey ='18551464-3b975953e71b3254d8a945600';\r\n\r\nconst fetchImages=(query,page=1)=>{\r\n  return axios\r\n  .get(`https://pixabay.com/api/?q=${query}&page=${page}&key=${APIkey}&image_type=photo&orientation=horizontal&per_page=12`)\r\n  .then(response=>response.data.hits)\r\n  .catch(error=> {\r\n    throw new Error(error);\r\n  });\r\n\r\n};\r\n\r\nexport default {fetchImages}","import React, {Component,useState,useEffect} from 'react';\n\nimport ImageGallery from '../imageList/ImageGallery';\nimport SearchBar from '../searchBar/SearchBar';\nimport Spinner from '../spinner/Spinner';\nimport Modal from '../modal/Modal.js';\nimport Button from '../button/Button.js';\nimport Notification from '../notification/Notification';\n\nimport imagesAPI from '../../services/imagesAPI';\n\n// export default class GalleryContainer extends Component{\n\n//   state={\n//     images:[],\n//     query:\"\",\n//     page: 1,\n//     loading: false,\n//     largeImageUrl: null,\n//     err: null,\n//     fail: null\n//   }\n\n//   componentDidUpdate(prevProps, prevState){\n//     const prevQuery = prevState.query;\n//     const nextQuery = this.state.query;\n\n//     const prevImgArr = prevState.images;\n//     const currentImgArr = this.state.images;\n\n//     if(prevQuery !== nextQuery) this.fetchImages(nextQuery);\n\n//     if(prevImgArr.length < currentImgArr.length) {\n//       const newHeight = document.documentElement.scrollHeight-1024;\n\n//       window.scrollTo({\n//         top: newHeight,\n//         behavior: 'smooth',\n//       });\n//     }\n//   };\n\n//   getLargeURL = url=>{\n//     this.setState({largeImageUrl:url})\n//   };\n\n//   closeModal =()=>{\n//     this.setState({largeImageUrl:null})\n//   }\n\n//   fetchImages=()=>{\n//     const {query,page} = this.state;\n\n//     this.setState({loading: true});\n\n//     imagesAPI.fetchImages(query,page)\n//     .then(images => {\n//       images.length>0 ?\n//       (this.setState(prevState=>(\n//         {images: [...prevState.images,...images],\n//         page: prevState.page+1})))\n//         :\n//         (this.setState({fail:true}))\n//       ;\n//     })\n//     .catch(err=>this.setState({err}))\n//     .finally(()=>this.setState({loading:false}))\n//   };\n\n//   handleFormSubmit=text=>{\n//     this.setState({query:text, images:[],page:1})\n//   };\n\n//   changeFailStatus=value=>{\n//     this.setState({fail:value})\n//   }\n\n//   render(){\n//     const {query,images,loading, largeImageUrl,err,fail} = this.state;\n//     return (\n//       <div>\n//         <SearchBar onSubmit = {this.handleFormSubmit}/>\n\n//         {(err || fail) && (<Notification text='Something went wrong. Please, try with another query!!!' openNotif={this.changeFailStatus}/>)}\n\n//         {images.length > 0 && (<ImageGallery images={images} alt={query} onClick={this.getLargeURL}/>)}\n\n//         {loading && <Spinner/>}\n\n//         {images.length >0 && (\n//           <Button loadMoreClick={this.fetchImages}/>\n//         )}\n\n//         {largeImageUrl && (\n//           <Modal onClose={this.closeModal}>\n//             <img src={largeImageUrl} alt=\"large\"/>\n//           </Modal>)}\n\n//       </div>\n//     )\n//   }\n// };\n\nconst initialState={\n  images:[],\n  query:\"\",\n  page: 1,\n  loading: false,\n  largeImageUrl: null,\n  err: null,\n  fail: null\n}\n\nconst GalleryContainer=()=>{\n\n  const[state,setState] = useState({...initialState});\n\n  useEffect(()=>{\n    const newHeight = document.documentElement.scrollHeight-1024;\n\n    window.scrollTo({\n      top: newHeight,\n      behavior: 'smooth',\n    });\n  },[state.images.length]);\n\n  const fetchImages=()=>{\n    const {query,page} = state;\n\n    setState(prev=>({...prev,loading: true}));\n\n    imagesAPI.fetchImages(query,page)\n    .then(files => {\n\n      files.length >0 ?\n\n      (setState(prevState=>(\n        {...prevState, images: [...prevState.images, ...files],\n        page: prevState.page+1})))\n        :\n        (setState(prev=>({...prev,err:'Something went wrong'})));\n    })\n    .catch(err=>{\n      setState(prev=>({...prev,err:err.message}))\n    })\n    .finally(()=>setState(prev=>({...prev,loading:false})))\n  };\n\n  const handleSearchChange=(e)=>{\n    setState(prev=>({...prev,query: e.target.value, images:[]}))\n  }\n\n  const openNotif=(value)=>{\n    setState(prev=>({...prev, err:value}))\n  }\n\n  const getLargeURL = url=>{\n    setState(prev=>({...prev,largeImageUrl:url}))\n  };\n\n  const closeModal =()=>{\n    setState(prev=>({...prev,largeImageUrl:null}))\n  }\n\n  const handleFormSubmit=e=>{\n    e.preventDefault();\n    fetchImages();\n  };\n\n    const {query,images,loading, largeImageUrl,err} = state;\n\n    return (\n      <div>\n        <SearchBar onSubmit = {handleFormSubmit} onChange={handleSearchChange} query={state.query}/>\n\n        {err && (<Notification text={state.err} openNotif={openNotif}/>)}\n\n        {images.length > 0 && (<ImageGallery images={images} alt={query} onClick={getLargeURL}/>)}\n\n        {loading && <Spinner/>}\n\n        {images.length >0 && (\n          <Button loadMoreClick={fetchImages}/>\n        )}\n\n        {largeImageUrl && (\n          <Modal onClose={closeModal}>\n            <img src={largeImageUrl} alt=\"large\"/>\n          </Modal>)}\n\n      </div>\n    )\n\n};\n\nexport default GalleryContainer;\n\n\n","import React from 'react';\r\nimport GalleryContainer from './components/galleryContainer/GalleryContainer'\r\n\r\nconst App=()=>{\r\n  return(\r\n    <GalleryContainer/>\r\n  )\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}